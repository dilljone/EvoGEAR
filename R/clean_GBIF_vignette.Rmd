---
title: "Cleaning GBIF Data"
author: "Dillon Jones"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)

library(tidyverse)
```

Clean your code

Load in Data

```{r}

gbif_raw <- read.csv(system.file('extdata','gbif.csv.gz', package = "evogear"))


gbif_1 <- clean_gbif(gbif_raw)


df_kde <- data.frame(species = gbif_1$species, 
                     decimallongitude = gbif_1$decimallongitude,
                     decimallatitude = gbif_1$decimallatitude)

gbif_2 <- KDE_filter(df_kde,FALSE, rec_min = 3)

```

## Points to Poly

Here we introduce the function points_to_poly.

This function intends to take a dataframe of points and convert them into polygons. This can be done either by creating a circular plane around each point given a set diameter, through Alpha Hull, or via MCP.

It requires a few argumeasd:

```{r}
  points2Poly <- function(points,x = 'x', y = 'y', species = 'species', map,
                        alpha = FALSE, a = 1,
                        type = 'All', buffer_m = 1000){...}
```

-   points

    a 3 column dataframe of points, where the columns are species, x, and y

-   x

    the column containing the x coords

-   points

    - a 3 column dataframe of points, where the columns are species, x, and y

-   x

    -    the column containing the x coords


-   y

    -   the column containing the y coords

-   species

    -   the column containing the species

-   map

    -   the boundary map for the species (can omit, but reccomended to use map_create function or provide your own)

-   alpha

    -   boolean to determine if you want to create alpha hull (will change to a vector of options)

-   a

    -   the alpha parameter to use

-   type

    -   need to change

-   buffe_m

    -   the buffer radius in meters

```{r}
#Load in the required packages
  require(raster)
  require(alphahull)
  require(dismo)
  require(rangeBuilder)
```

