taxa[c("tip","taxa","state")] <- text[t_pos+3:p_pos-2,]%>%pull()%>%str_split_fixed("\",n = 3)
tree <- text[p_pos+1,]%>%pull()%>%ape::read.tree(text = .)
colnames(taxon)
?str_split
taxa[c("tip","taxa","state")] <- text[t_pos+3:p_pos-2,]%>%pull()%>%str_split_fixed("\",n = 3)
tree <- text[p_pos+1,]%>%pull()%>%ape::read.tree(text = .)
colnames(taxon)
?str_split
taxa[c("tip","taxa","state")] <- text[t_pos+3:p_pos-2,]%>%pull()%>%str_split_fixed("\\",n = 3)
taxa[c("tip","taxa","state")] <- text[t_pos+3:p_pos-2,]%>%str_split_fixed("\\",n = 3)
taxa[c("tip","taxa","state")] <- text[t_pos+3:p_pos-2,]%>%str_split_fixed("\t",n = 3)
taxa[c("tip","taxa","state")] <- text[t_pos+3:p_pos-2,]%>%str_split("\t")
text[t_pos+3:p_pos-2,]
text[t_pos+3:p_pos-2,]%>%str_split("\\")
text[t_pos+3:p_pos-2,]%>%str_split("\\\\")
text[t_pos+3:p_pos-2,]%>%str_split("\t")
text[t_pos+3:p_pos-2,]
text[t_pos+3:p_pos-2,]%>%str_split("\\t")
text[t_pos+3:p_pos-2,]%>%gsub("//t","-",.)
text[t_pos+3:p_pos-2,]%>%gsub("/\t","-",.)
text[t_pos+3:p_pos-2,]%>%gsub("\t","-",.)
text[t_pos+3:p_pos-2,]%>%gsub("\\t","-",.)
text[t_pos+3:p_pos-2,]%>%gsub("\\t\","-",.)
str_split("\\t")
text[t_pos+3:p_pos-2,]%>%gsub("\\t\\","-",.)
text <- read_delim(delim ="\t", "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_Squamate_DEC_results.txt")[,-2]
text[t_pos+3:p_pos-2,]%>%gsub("\t+","-",.)
text[t_pos+3:p_pos-2,]%>%gsub("[\t]","-",.)
text[t_pos+3:p_pos-2,]%>%gsub("[\\t]","-",.)
text[t_pos+3:p_pos-2,]%>%str_split(.,"[\\t]")
text[t_pos+3:p_pos-2,]%>%str_split_fixed(.,"[\\t]", n = 3)
text[t_pos+3:p_pos-2,]%>%str_split_fixed(.,"\[\\t]", n = 3)
text[t_pos+3:p_pos-2,]%>%separate(.,sep = "\[\\t]")
text[t_pos+3:p_pos-2,]%>%separate(.,sep = "[\\t]")
text[t_pos+3:p_pos-2,]
text[t_pos+3:p_pos-2,]%>%str_split(.,sep = "[\\t]")
text[t_pos+3:p_pos-2,]%>%str_split(.,"[\\t]")
text[t_pos+3:p_pos-2,]%>%str_split(.,"[\\t]",fixed = TRUE)
text[t_pos+3:p_pos-2,]%>%strsplit(.,"[\\t]",fixed = TRUE)
text[t_pos+3:p_pos-2,]%>%strsplit("[\\t]",fixed = TRUE)
text[t_pos+3:p_pos-2,]%>%strsplit(as.character(.),"[\\t]",fixed = TRUE)
strsplit(as.character(text[t_pos+3:p_pos-2,1]),"[\\t]",fixed = TRUE)
do.call("rbind",strsplit(as.character(text[t_pos+3:p_pos-2,1]),"[\\t]",fixed = TRUE))
do.call("rbind",strsplit(as.character(text[t_pos+3:p_pos-2,1]),"\\t",fixed = TRUE))
separate(data = text[t_pos+3:p_pos-2,1], col = colnames(text[t_pos+3:p_pos-2,1]), sep = '\\t')
separate(data = text[t_pos+3:p_pos-2,1],
col = colnames(text[t_pos+3:p_pos-2,1]),
sep = '\\t',
into = c("tip",'species','state'))
taxa <- separate(data = text[t_pos+3:p_pos-2,1],
col = colnames(text[t_pos+3:p_pos-2,1]),
sep = '\\t',
into = c("tip",'species','state'))%>%as.data.frame()
View(taxa)
text[p_pos+1:r_pos-2,1]
text[p_pos+1:r_pos,1]
text[r_pos+1:,1]
text[r_pos+1:nrow(text),1]
text[r_pos+2:nrow(text),1]
text <- read_delim(delim ="\r", "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_results.txt")[,-2]
text <- read_delim(delim ="\r", "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")[,-2]
library(tidyverse)
text <- read_delim(delim ="\r", "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")[,-2]
View(text)
text <- read_delim(delim ="", "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")[,-2]
text <- read_delim(delim ="____", "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")[,-2]
View(text)
text <- read_delim(delim ="__", "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
View(text)
text <- read_delim("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
text <- read_delim("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", delim = ",")
spec()
text <- read_delim("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", delim = "NODE")
View(text)
text <- read_delim("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", delim = "\BR")
text <- read_delim("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", delim = "\b")
View(text)
text <- read_delim("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", delim = "\n")
text <- read_delim("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", delim = "|\n")
text <- readLine("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", delim = "\n")
text <- readLines("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", delim = "\n")
text <- readLines("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
text <- readLines("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")%>%
paste0()
text <- readLines("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")%>%
paste0(collapse(" "))
text <- readLines("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")%>%
paste0(collapse= " ")
text
text <- read_delim("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", sep = ":")
text <- read_delim("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt", delim = ":")
View(text)
View(text)
text <- readLines("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")%>%
paste0(collapse= " ")
text <- readLines("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
text
text <- read_delim(delim = "", F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
text <- read_delim(delim = "", "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
text <- read_table(delim = "", "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
text <- read_table("F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
View(text)
?read_table
text <- read_table(skip_empty_rows = FALSE, "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
View(text)
text <- read_table(skip_empty_rows = FALSE,
col_names = FALSE,
"F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
View(text)
c(text[1:7,])
paste0(text[1:7,])
paste0(text[1:7,], collapse = "")
paste0(text[1:7,], collapse = " ")
paste(text[1:7,], collapse = " ")
paste(text[1:7,], collapse = "")
paste(c(text[1:7,]), collapse = "")
paste(c(text[1:7,]), collapse = "", sep = "")
paste(c(text[1:7,]), collapse = "", sep = " ")
paste(text[1:7,], collapse = "", sep = " ")
paste(text[1:7,], collapse = "", sep = " ") > c
paste(text[1:7,], collapse = "", sep = " ") -> c
c[1]
paste(text[1:7,1], collapse = "", sep = " ") -> c
text[1]
text[1,]
paste(text[1:7,1]) -> c
paste(text[1:7,1])
paste(text[1,1])
paste(text[1,2,1])
paste(text[c(1,2),1])
paste(write_lines(text[c(1,2)),1])
paste(write_lines(text[c(1,2),1]))
text %>% as.data.frame()
text %>% as.data.frame() -> text
text[1,]
paste(text[1:7,])
paste(text[1:7,], collapse = "")
paste(text[1:7,], collapse = " ")
grep(NA, text)
View(text)
which(is.na(text$X1))
View(text)
for(i in na_vect){
paste(text[i+1:i+9,], collapse = " ")
}
which(is.na(text$X1)) -> na_vect
for(i in na_vect){
paste(text[i+1:i+9,], collapse = " ")
}
c(1,na_vect)
c(0,na_vect)
c(0,na_vect) -> na_vect
for(i in na_vect){
paste(text[i+1:i+9,], collapse = " ")
}
df <- ""
for(i in na_vect){
df <- c(df,paste(text[i+1:i+9,], collapse = " "))
}
df <- data.frame("")
for(i in na_vect){
df <- rbind(df,paste(text[i+1:i+9,], collapse = " "))
}
View(df)
print(i)
for(i in na_vect){
print(i)
df <- rbind(df,paste(text[i+1:i+9,], collapse = " "))
}
df <- data.frame()
for(i in na_vect){
print(i)
df <- rbind(df,paste(text[i+1:i+9,], collapse = " "))
}
View(df)
text[i+1:i+9,]
df <- rbind(df,paste(text[i+1:i+9,1], collapse = " "))
paste(text[i+1:i+9,1], collapse = " ")
print(i)
text <- read_table(skip_empty_rows = FALSE,
col_names = FALSE,
"F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
df <- data.frame()
for(i in na_vect){
print(i)
df <- rbind(df,paste(text[i+1:i+9], collapse = " "))
}
for(i in na_vect){
print(i)
df <- rbind(df,paste(text[i+1:i+9,], collapse = " "))
}
which(is.na(text)) -> na_vect
c(0,na_vect) -> na_vect
df <- data.frame()
for(i in na_vect){
print(i)
df <- rbind(df,paste(text[i+1:i+9,], collapse = " "))
}
text %>% as.vector() -> text
text <- read_table(skip_empty_rows = FALSE,
col_names = FALSE,
"F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt")
text$X1 %>% as.vector() -> text
which(is.na(text)) -> na_vect
c(0,na_vect) -> na_vect
df <- data.frame()
for(i in na_vect){
print(i)
df <- rbind(df,paste(text[i+1:i+9], collapse = " "))
}
View(df)
df <- data.frame()
for(i in 1:length(na_vect)){
print(i)
j <- na_vect[i]
val <- paste(text[j+1:j+9], collapse= "")
df[i,] <- val
}
df <- data.frame(text = "")
for(i in 1:length(na_vect)){
print(i)
j <- na_vect[i]
val <- paste(text[j+1:j+9], collapse= "")
df[i,] <- val
}
View(df)
text[(j+1):(j+9)]
df <- data.frame(text = "")
for(i in 1:length(na_vect)){
print(i)
j <- na_vect[i]
val <- paste(text[(j+1):(j+9)], collapse= "")
df[i,] <- val
}
View(df)
df[-nrow(df),]
df <- df[-nrow(df),]
df <- data.frame(text = "")
for(i in 1:length(na_vect)){
print(i)
j <- na_vect[i]
val <- paste(text[(j+1):(j+9)], collapse= " ")
df[i,] <- val
}
df <- df[-nrow(df),]
df%>%separate(col = 8, sep = " ")
df <- df[-nrow(df),]%>%as.data.frame()
df <- data.frame(text = "")
for(i in 1:length(na_vect)){
print(i)
j <- na_vect[i]
val <- paste(text[(j+1):(j+9)], collapse= " ")
df[i,] <- val
}
df <- df[-nrow(df),]%>%as.data.frame()
df%>%separate(col = 8, sep = " ")
df%>%separate(col = 1, sep = " ")
df%>%separate(col = 1, sep = " ", into = 8)
df%>%separate(col = 1, sep = " ", into = c(
'1','2','3','4','5','6','7','8'))
df%>%separate(col = 1, sep = " ", into = c(
'1','2','3','4','5','6','7','8','9'))
df%>%separate(col = 1, sep = " ", into = c(
'Node','Event','Dispersal','Vicariance','Extinction','Event','Path','Prob','Probability'))
df%>%separate(col = 1, sep = " ", into = c(
'Node','Event','Dispersal','Vicariance','Extinction','Event_','Path','Prob','Probability'))
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Parh,Probability)
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE",""))
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE","",Node))
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE","",Node),
Node = gsub(":","",Node))
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE","",Node),
Node = gsub(":","",Node),
Dispersal = gsub("Dispersal:","",Dispersal)
Dispersal = gsub("Vicariance:","",Vicariance)
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE","",Node),
Node = gsub(":","",Node),
Dispersal = gsub("Dispersal:","",Dispersal),
Dispersal = gsub("Vicariance:","",Vicariance),
Dispersal = gsub("Extinction:","",Extinction))
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE","",Node),
Node = gsub(":","",Node),
Dispersal = gsub("Dispersal:","",Dispersal),
Vicariance = gsub("Vicariance:","",Vicariance),
Extinction = gsub("Extinction:","",Extinction))
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE","",Node),
Node = gsub(":","",Node),
Dispersal = gsub("Dispersal:","",Dispersal),
Vicariance = gsub("Vicariance:","",Vicariance),
Extinction = gsub("Extinction:","",Extinction),
ML_state = str_extract(Path,"^[^-]*"))
stack(c(ca = "a",wm = "b"))
stack(c(ca = "a",wm = "b")) -> asd
stack(c(ca = "a/asd/asd/asd",wm = "b"))
stack(c(ca = "a/asd/asd/asd.img",wm = "b"))
raster::stack(c(ca = "a/asd/asd/asd.img",wm = "b"))
file <- "F:/My Drive/OneDrive/Research/Phyloregion_SDSU/Phyloregionalization_MA/Outputs/RASP_out_Squam_dispersal.txt"
read_RASP_dispersal <- function(file){
require(tidyverse)
text <- read_table(skip_empty_rows = FALSE,
col_names = FALSE,
file)
text$X1 %>% as.vector() -> text
which(is.na(text)) -> na_vect
c(0,na_vect) -> na_vect
df <- data.frame(text = "")
for(i in 1:length(na_vect)){
print(i)
j <- na_vect[i]
val <- paste(text[(j+1):(j+9)], collapse= " ")
df[i,] <- val
}
df <- df[-nrow(df),]%>%as.data.frame()
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE","",Node),
Node = gsub(":","",Node),
Dispersal = gsub("Dispersal:","",Dispersal),
Vicariance = gsub("Vicariance:","",Vicariance),
Extinction = gsub("Extinction:","",Extinction),
ML_state = str_extract(Path,"^[^-]*")) -> df
return(df)
}
read_RASP_dispersal(file) -> rasp_df
View(rasp_df)
read_RASP_dispersal <- function(file){
require(tidyverse)
text <- read_table(skip_empty_rows = FALSE,
col_names = FALSE,
file)
text$X1 %>% as.vector() -> text
which(is.na(text)) -> na_vect
c(0,na_vect) -> na_vect
df <- data.frame(text = "")
for(i in 1:length(na_vect)){
j <- na_vect[i]
val <- paste(text[(j+1):(j+9)], collapse= " ")
df[i,] <- val
}
df <- df[-nrow(df),]%>%as.data.frame()
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE","",Node),
Node = gsub(":","",Node),
Dispersal = gsub("Dispersal:","",Dispersal),
Vicariance = gsub("Vicariance:","",Vicariance),
Extinction = gsub("Extinction:","",Extinction),
ML_state = str_extract(Path,"^[^-]*")) -> df
return(df)
}
read_RASP_dispersal(file) -> rasp_df
read_RASP_dispersal <- function(file){
require(tidyverse)
text <- read_table(skip_empty_rows = FALSE,
col_names = FALSE,
file)
text$X1 %>% as.vector() -> text
which(is.na(text)) -> na_vect
c(0,na_vect) -> na_vect
df <- data.frame(text = "")
for(i in 1:length(na_vect)){
j <- na_vect[i]
val <- paste(text[(j+1):(j+9)], collapse= " ")
df[i,] <- val
}
df <- df[-nrow(df),]%>%as.data.frame()
df%>%separate(col = 1, sep = " ",
into= c('Node','Event','Dispersal','Vicariance',
'Extinction','Event_','Path','Prob','Probability'))%>%
select(Node,Dispersal,Vicariance,Extinction,Path,Probability)%>%
mutate(Node = gsub("NODE","",Node),
Node = gsub(":","",Node),
Dispersal = gsub("Dispersal:","",Dispersal),
Vicariance = gsub("Vicariance:","",Vicariance),
Extinction = gsub("Extinction:","",Extinction),
ML_state = str_extract(Path,"^[^-]*")) -> df
return(df)
}
devtools::document()
devtools::document()
devtools::document()
devtools::document()
rm(list = c("read_RASP_dispersal"))
devtools::document()
iterate_genbank <- function(search_terms, by = 1000,
seq_length_max = 30000,
extra_term = ""){
require(rentrez)
require(tidyverse)
#Custom Sequence Function that ensures last sequences
# If there are 369 sequences and you go by 100s, then the last 69 would not be included
seq0 <- function(from = 1, to = 1, by = 1, incLast = TRUE){
out = do.call(what = seq, args = list(from, to, by))
if (incLast & to%%by != 0){
out = c(out, tail(out, 1) + by)
}
return(out)
}
#iterate through each search term in list
for(i in 1:length(search_terms)){
term <- paste0("('",search_terms[i],"'","[Organism] OR ", search_terms[i],
"[All Fields])"," AND (1 [SLEN] : ",seq_length_max,"[SLEN])",extra_term)
search_res <- entrez_search(db="nuccore", term=term,use_history = TRUE)
#printing to make it look nicer. Adding progress bar as well
print(paste0("Now Quering: ",search_terms[i], ". ", search_res$count, " records found"))
pb <- txtProgressBar(min = 0, max = search_res$count, style = 3, width = 30, char = "\U1F438")
#Ifelse to fetch if few sequences
if(search_res$count<by){
fetch <- entrez_fetch(db = "nuccore", #id = search_res$ids[1:length(search_res$ids)],
rettype = "fasta", web_history = search_res$web_history)
write(fetch, paste0(search_terms[i],"_FASTA.fasta"), sep = "\n")
setTxtProgressBar(pb,search_res$count)
}else{
#else is for larger amount of sequences
start = by
fetch <- entrez_fetch(db = "nuccore", #id = search_res$ids[1:length(search_res$ids)],
rettype = "fasta", retmax = by,
web_history = search_res$web_history)
write(fetch, paste0(search_terms[i],"_FASTA.fasta"), sep = "\n")
setTxtProgressBar(pb,by)
#starting to pull sequences every by
for(j in seq0(from = start,to = search_res$count, by = by)){
setTxtProgressBar(pb,j)
if(j==by){next}else{
fetch <- entrez_fetch(db = "nuccore", #id = search_res$ids[start:j],
rettype = "fasta", web_history = search_res$web_history,
retmax = by, retstart = start)
write(fetch, paste0(search_terms[i],"_FASTA.fasta"),sep = "\n", append = TRUE)
start = j
}
}
}
#finish off the ProgressBar
setTxtProgressBar(pb,search_res$count)
close(pb)
}
}
iterate_genbank(c("Frog","Anura","Dog"), by = 10000)
iterate_genbank(c("Frog","Anura","Dog"), by = 100000)
iterate_genbank(c("Ferocactus gracilis"), by = 10)
fasta <- iterate_genbank(c("Ferocactus gracilis"), by = 10)
fasta <- iterate_genbank(c("Ferocactus gracilis"), by = 1)
fasta <- iterate_genbank(c("Ferocactus"), by = 10)
fasta <- iterate_genbank(c("Ferocactus"), by = 10)
reticulate::repl_python()
import dash
pip install dash
-m pip install dash
python3 pip install dash
install
pip
pip3
python
python3
help
help()
conda
library(reticulate)
import reticulate
quit()
quit
python3
library(reticulate)
setwd("F:/My Drive/")
conda_create('main_test')
use_condaenv("main test")
use_condaenv("main-test")
use_condaenv("main_test")
taxa_all <- c("Rana vaillanti", "Lithobates sylvaticus", 'iguana iguana')
gbif <- rgbif::name_backbone_checklist(taxa_all)
isntall.packages("rgbif")
install.packages("rgbif")
gbif <- rgbif::name_backbone_checklist(taxa_all)
